!function(t){window.SuggestBoxContainers=function(e,s){var n=this;this.selectBox=e,this.options=s;var i=function(){var t=null;return(n.options.idPrefix||n.options.idSuffix)&&n.selectBox.attr("id")&&(t="",n.options.idPrefix&&(t+=n.options.idPrefix),t+=n.selectBox.attr("id"),n.options.idSuffix&&(t+=n.options.idSuffix)),t};this.createInputContainer=function(){var e=n.options.classes.inputContainer;return n.selectBox.attr("class")&&(e+=" "+n.selectBox.attr("class")),t("<div />",{id:i(),"class":e})},this.createInputWrapper=function(){return t("<div />",{"class":n.options.classes.inputWrapper})},this.createBitsBox=function(){return t("<ul />",{"class":n.options.classes.bitsBox})},this.createTextBox=function(){return t("<input />",{"class":n.options.classes.textBox,type:"text",id:n.selectBox.attr("id")})},this.createSuggestionsBox=function(){return t("<ol />",{"class":n.options.classes.suggestionsBox})}},window.ArtifactsSuggestBoxItems=function(e){var s=this;this.helpers=e,this.createSuggestion=function(e){this.addClass("artifact"),this.attr("title",e.name),t("<span />",{"class":"icon "+e.icon}).appendTo(this),t("<span />",{"class":"project"}).appendTo(this).text(e.project_name),t("<span />",{"class":"name"}).appendTo(this).html(e.highlighted_name),t("<span />",{"class":"type"}).appendTo(this).text(e.type_name)},this.createBit=function(e){var n=this;this.addClass("artifact"),this.attr("title",e.type_name),t("<span />",{"class":"icon "+e.icon}).appendTo(this);var i=t("<span />",{"class":"name"}),a=t("<a />",{href:e.url});a.text(e.name).appendTo(i),a.mouseover(function(){n.addClass("focus")}).mouseout(function(){n.removeClass("focus")}),i.appendTo(n);var o=t("<span />",{"class":"close"}).text("\xd7");return o.appendTo(n),o.click(function(){return s.helpers.removeItemFromBits(n,function(){s.helpers.elements.textBox.focus()}),!1}),!0}},window.IssuesSuggestBoxItems=function(e){var s=this;this.helpers=e,this.createSuggestion=function(e){this.addClass("issue"),this.attr("title",e.subject),t("<span />",{"class":"project"}).appendTo(this).text(e.project_name),t("<span />",{"class":"id"}).appendTo(this).text("#"+e.id),t("<span />",{"class":"name"}).appendTo(this).html(e.highlighted_name)},this.createBit=function(e){var n=this;this.addClass("issue"),this.attr("title",e.subject),t("<span />",{"class":"id"}).text("#"+e.id).appendTo(this);var i=t("<span />",{"class":"name"}),a=t("<a />",{href:e.url});a.appendTo(i).text(e.subject),a.mouseover(function(){n.addClass("focus")}).mouseout(function(){n.removeClass("focus")}),i.appendTo(n);var o=t("<span />",{"class":"close"}).text("\xd7");return o.appendTo(n),o.click(function(){return s.helpers.removeItemFromBits(n,function(){s.helpers.elements.textBox.focus()}),!1}),!0}},window.DiagramsSuggestBoxItems=function(e){var s=this;this.helpers=e,this.createSuggestion=function(e){this.addClass("diagram"),this.attr("title",e.name),t("<span />",{"class":"id"}).appendTo(this).text("#"+e.id),t("<span />",{"class":"name"}).appendTo(this).html(e.highlighted_name)},this.createBit=function(e){var n=this;this.addClass("diagram"),this.attr("title",e.name),t("<span />",{"class":"id"}).text("#"+e.id).appendTo(this);var i=t("<span />",{"class":"name"}),a=t("<a />",{href:e.url});a.appendTo(i).text(e.name),a.mouseover(function(){n.addClass("focus")}).mouseout(function(){n.removeClass("focus")}),i.appendTo(n);var o=t("<span />",{"class":"close"}).text("\xd7");return o.appendTo(n),o.click(function(){return s.helpers.removeItemFromBits(n,function(){s.helpers.elements.textBox.focus()}),!1}),!0}},window.UsersSuggestBoxItems=function(e){var s=this;this.helpers=e,this.createSuggestion=function(e){this.addClass("user"),this.attr("title",e.full_name),t("<span />",{"class":"name"}).appendTo(this).html(e.highlighted_full_name),t("<span />",{"class":"login"}).appendTo(this).html(e.highlighted_login)},this.createBit=function(e){var n=this;this.addClass("user"),this.attr("title",e.login);var i=t("<span />",{"class":"name"}),a=t("<a />",{href:e.url});a.appendTo(i),a.text(e.full_name),a.mouseover(function(){n.addClass("focus")}).mouseout(function(){n.removeClass("focus")}),i.appendTo(n);var o=t("<span />",{"class":"close"}).text("\xd7");return o.appendTo(n),o.click(function(){return s.helpers.removeItemFromBits(n,function(){s.helpers.elements.textBox.focus()}),!1}),!0}},window.DirectArtifactsSuggestBoxItems=function(e){this.helpers=e,this.createSuggestion=function(s){this.addClass("artifact"),this.attr("title",s.name),t("<span />",{"class":"icon "+s.icon}).appendTo(this),t("<span />",{"class":"name"}).appendTo(this).html(s.highlighted_name),t("<span />",{"class":"type"}).appendTo(this).text(s.type_name),this.click(function(){return document.location=s.url,!1}),e.elements.textBox.keydown(function(t){9!=t.keyCode&&13!=t.keyCode||!e.hasSelectedSuggestion()||(document.location=e.selectedSuggestion().data("record").url)})},this.createBit=function(){return!1}},window.DirectArtifactsSuggestBoxItemsForRelations=function(e){this.helpers=e,this.createSuggestion=function(s){this.addClass("artifact"),this.attr("title",s.name),t("<span />",{"class":"icon "+s.icon}).appendTo(this),t("<span />",{"class":"name"}).appendTo(this).html(s.highlighted_name),t("<span />",{"class":"type"}).appendTo(this).text(s.type_name),this.click(function(){return createRelation(s),!1}),e.elements.textBox.keydown(function(t){9!=t.keyCode&&13!=t.keyCode||!e.hasSelectedSuggestion()||(document.location=e.selectedSuggestion().data("record").url)})},this.createBit=function(){return!1}},window.DirectArtifactsSuggestBoxItemsForAddingRelations=function(e){this.helpers=e,this.createSuggestion=function(s){this.addClass("artifact"),this.attr("title",s.name),t("<span />",{"class":"icon "+s.icon}).appendTo(this),t("<span />",{"class":"name"}).appendTo(this).html(s.highlighted_name),t("<span />",{"class":"type"}).appendTo(this).text(s.type_name),this.click(function(){return createRelation(s),!1}),e.elements.textBox.keydown(function(t){if((9==t.keyCode||13==t.keyCode)&&e.hasSelectedSuggestion()){var s=e.selectedSuggestion();return s.hasClass("focus")&&(createRelation(s.data("record")),e.elements.suggestionsBox.clearAndHideSuggestionsBox()),!1}})},this.createBit=function(){return!1}}}(jQuery);