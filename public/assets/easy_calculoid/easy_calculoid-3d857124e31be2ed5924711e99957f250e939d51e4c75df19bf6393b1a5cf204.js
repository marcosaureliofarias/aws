EASY.schedule.late(()=>{function l(l){l.find(".calculator-name").empty(),l.find(".calculator-fields").empty()}function a(l,a,e,o,t,n,d){var c=$('<p class="calculoid-field-'+l.id+'"><label>'+l.name+"</label></p>"),i=o["F"+l.id]||"",u="[F"+l.id+"]",r=$('         <input type="text" title="'+t.default_value+'" placeholder="'+t.default_value+'" value="'+i+'" name="'+d+"[data]"+u+'">         </input>'),f=e.clone().attr("name",d+"[trends]"+u).removeClass("calculator-trend").val(n["F"+l.id]).show();c.appendTo(a),r.appendTo(c),f.appendTo(c)}EASY.reloadCalculoid=function(e){var o=$(e).closest(".easy-page-module");if(0!==o.length){var t=o.find(".calculoid-settings"),n=t.data().settings,d=t.data().trends,c=t.data().i18n,i=t.data().block;if(!n||!c||!i)return console.log("calculoid: data not found"),l(o);var u=o.find(".calculoid-id").val(),r=o.find(".calculoid-url").val();if(!u||""===u||!r||""===r)return l(o);var f=o.find(".calculoid-api-key").val();$.ajax({url:r+"/calculator/"+u+"&apiKey="+f,type:"get",dataType:"json"}).done(function(e){var t=o.find(".calculator-name"),u=o.find(".calculator-fields"),r=o.find(".calculator-trend");if(l(o),!e.fields)return console.log("calculoid: bad data"),void console.log(e);var f=Object.values(e.fields).filter(function(l){return"formula"!==l.type}),s=e.name;t.html($("<p>"+s+"</p>"));for(var p=0;p<f.length;p++)a(f[p],u,r,n,c,d,i)}).fail(function(){console.log("calculoid: bad response"),l(o)})}else console.log("calculoid: module not found")},$(".calculoid-settings").each(function(){EASY.reloadCalculoid(this)})});