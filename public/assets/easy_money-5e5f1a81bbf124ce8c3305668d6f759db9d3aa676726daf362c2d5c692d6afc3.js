function computePriceWithVat(e,t,n){var a=document.getElementById(e),u=document.getElementById(t),l=document.getElementById(n),i=document.getElementById("use_vat").checked;null==u||null==l||""==u.value||isNaN(u.value)||isNaN(l.value)||(a.value=Math.round(parseFloat(u.value)*(100+parseFloat(""!=l.value&&i?l.value:0)))/100)}function computePriceWithoutVat(e,t,n){var a=document.getElementById(e),u=document.getElementById(t),l=document.getElementById(n),i=document.getElementById("use_vat").checked;null==a||null==l||""==a.value||isNaN(a.value)||isNaN(l.value)||(u.value=Math.round(100*parseFloat(a.value)/(100+parseFloat(""!=l.value&&i?l.value:0))*100)/100)}function toggleMoneySelection(e){var t=e.getElementsBySelector("input[type=checkbox]"),n=!0;for(i=0;i<t.length;i++)0==t[i].checked&&(n=!1);for(i=0;i<t.length;i++)n?(t[i].checked=!1,t[i].up("tr").removeClassName("context-menu-selection")):0==t[i].checked&&(t[i].checked=!0,t[i].up("tr").addClassName("context-menu-selection"))}function computeMul(e,t,n){var a=document.getElementById(e),u=document.getElementById(t),l=document.getElementById(n);null==l||null==a||null==u||""==a.value||isNaN(a.value)||""==u.value||isNaN(u.value)||(l.value=Number((parseFloat(a.value)*parseFloat(u.value)).toFixed(2)))}function computeDateDiff(e,t,n){var a=$("#"+n),u=$("#"+e),l=$("#"+t),i=u.val(),r=l.val();null!==u&&null!==l&&""!==i&&i!==undefined&&""!==r&&r!==undefined&&i<=r&&a.prop("value",(new Date(r)-new Date(i))/864e5+1)}function easyMoneyOnFormSubmit(e){$("#"+e).submit(function(){return $('input[name="commit"]').focus(),!0})}!function(e){var t=function(e){this.init("price",e,t.defaults)};e.fn.editableutils.inherit(t,e.fn.editabletypes.abstractinput),e.extend(t.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.renderEasyCurrencySelect()},renderEasyCurrencySelect:function(){var t=e.fn.editabletypes.price.easyCurrencies;if(t.length>0){var n;this.$easyCurrencySelect=this.$tpl.find("select");for(var a=0;a<t.length;a++)(n=e("<option></option>")).html(t[a].name),n.attr("value",t[a].iso_code),this.$easyCurrencySelect.append(n)}},value2html:function(e,t,n,a){var u=e.unit_rate+" "+e.easy_currency_code;if(a){var l=JSON.parse(a);l.easy_money_rate&&l.easy_money_rate.formatted_html&&(u=l.easy_money_rate.formatted_html)}this.value2htmlFinal(u,t)},value2htmlFinal:function(t,n){e(n).html(t)},html2value:function(){return null},value2str:function(e){var t="";if(e)for(var n in e)t=t+n+":"+e[n]+";";return t},value2input:function(e){e&&(this.$input.val(e.unit_rate),this.$easyCurrencySelect&&this.$easyCurrencySelect.val(e.easy_currency_code))},input2value:function(){var e={unit_rate:this.$input.val()};return this.$easyCurrencySelect&&(e.easy_currency_code=this.$easyCurrencySelect.val()),e}}),t.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:"<div class='editable-price'><input type='text'><select></select></div>"}),t.easyCurrencies=[],e.fn.editabletypes.price=t}(jQuery);