<div class="easy-contact-setting-container">
  <h2 class="title"><%= l(:label_edit_contact_field_settings, name: params[:field_id].humanize) %></h2>
  <%= labelled_form_for(@easy_settings, as: 'easy_setting', url: update_field_easy_contacts_setting_path(params[:field_id])) do |f| %>
    <p>
      <em class="help"><%= l(:help_fields_limit_visibility_settings) %></em>
    </p>
    <div class="box tabular">
      <p><%= f.auto_complete("easy_contact_#{params[:field_id]}_allowed_group_ids", Group.active.sorted.map {|p| [p.name, p.id]}, {show_toggle_button: true, multiple: true, label: l(:label_group_plural)}) %></p>
      <p><%= f.auto_complete("easy_contact_#{params[:field_id]}_allowed_easy_user_type_ids", EasyUserType.sorted.pluck(:name, :id), {show_toggle_button: true,  multiple: true, label: l(:label_easy_user_type_plural)}) %></p>
      <p><%= f.auto_complete("easy_contact_#{params[:field_id]}_allowed_user_ids", User.active.sorted.map {|p| [p.name, p.id]}, {show_toggle_button: true,  multiple: true, label:  l(:label_user_plural)}) %></p>
    </div>
    <div class="form-actions">
      <%= submit_tag(l(:button_save), class: 'button-positive') %>
    </div>
  <% end %>
</div>